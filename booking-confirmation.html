<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Vital Works - Buchungsbestätigung">
    <title>Vital Works - Buchung erfolgreich</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --royal-blue: #0635c3;
            --royal-blue-dark: #3457b8;
            --success-green: #32a852;
        }
        .vw-title { color: var(--royal-blue); }

        /* Success Checkmark Animation */
        .success-checkmark {
            width: 80px;
            height: 80px;
            margin: 0 auto;
        }

        .check-icon {
            width: 80px;
            height: 80px;
            position: relative;
            border-radius: 50%;
            box-sizing: content-box;
            border: 4px solid var(--success-green);
        }

        .check-icon::before {
            top: 3px;
            left: -2px;
            width: 30px;
            transform-origin: 100% 50%;
            border-radius: 100px 0 0 100px;
            content: '';
            height: 100px;
            position: absolute;
            background: #FFFFFF;
            transform: rotate(-45deg);
            z-index: 2;
        }

        .check-icon::after {
            top: 0;
            left: 30px;
            width: 60px;
            transform-origin: 0 50%;
            border-radius: 0 100px 100px 0;
            animation: rotate-circle 4.25s ease-in;
            content: '';
            height: 100px;
            position: absolute;
            background: #FFFFFF;
            transform: rotate(-45deg);
            z-index: 2;
        }

        .icon-line {
            height: 5px;
            background-color: var(--success-green);
            display: block;
            border-radius: 2px;
            position: absolute;
            z-index: 10;
        }

        .icon-line.line-tip {
            top: 46px;
            left: 14px;
            width: 25px;
            transform: rotate(45deg);
            animation: icon-line-tip 0.75s;
        }

        .icon-line.line-long {
            top: 38px;
            right: 8px;
            width: 47px;
            transform: rotate(-45deg);
            animation: icon-line-long 0.75s;
        }

        .icon-circle {
            top: -4px;
            left: -4px;
            z-index: 10;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            position: absolute;
            box-sizing: content-box;
            border: 4px solid rgba(50, 168, 82, 0.5);
        }

        .icon-fix {
            top: 8px;
            width: 5px;
            left: 26px;
            z-index: 1;
            height: 85px;
            position: absolute;
            transform: rotate(-45deg);
            background-color: #FFFFFF;
        }

        @keyframes rotate-circle {
            0% {
                transform: rotate(-45deg);
            }
            5% {
                transform: rotate(-45deg);
            }
            12% {
                transform: rotate(-405deg);
            }
            100% {
                transform: rotate(-405deg);
            }
        }

        @keyframes icon-line-tip {
            0% {
                width: 0;
                left: 1px;
                top: 19px;
            }
            54% {
                width: 0;
                left: 1px;
                top: 19px;
            }
            70% {
                width: 50px;
                left: -8px;
                top: 37px;
            }
            84% {
                width: 17px;
                left: 21px;
                top: 48px;
            }
            100% {
                width: 25px;
                left: 14px;
                top: 45px;
            }
        }

        @keyframes icon-line-long {
            0% {
                width: 0;
                right: 46px;
                top: 54px;
            }
            65% {
                width: 0;
                right: 46px;
                top: 54px;
            }
            84% {
                width: 55px;
                right: 0px;
                top: 35px;
            }
            100% {
                width: 47px;
                right: 8px;
                top: 38px;
            }
        }
    </style>
</head>

<body class="bg-white">

    <!-- HEADER -->
    <header class="border-b border-base-200 bg-white sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4">
            <div class="navbar px-0">
                <div class="navbar-start">
                    <a class="text-lg font-bold vw-title" href="landingpage.html">Vital Works</a>
                </div>
                <div class="navbar-end">
                    <ul class="menu menu-horizontal px-1 text-sm">
                        <li><a href="landingpage.html">Landingpage</a></li>
                        <li><a href="landingpage.html#pakete">Kurs buchen</a></li>
                        <li><a href="plustraining.html">Kursinfo</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="py-12 px-4 min-h-[80vh]">
        <div class="max-w-4xl mx-auto">
            <!-- Success Message -->
            <div class="card bg-base-100 shadow-xl mb-8">
                <div class="card-body items-center text-center py-12">
                    <!-- Success Icon -->
                    <div class="success-checkmark">
                        <div class="check-icon">
                            <span class="icon-line line-tip"></span>
                            <span class="icon-line line-long"></span>
                            <div class="icon-circle"></div>
                            <div class="icon-fix"></div>
                        </div>
                    </div>

                    <!-- Title -->
                    <h1 class="text-3xl md:text-4xl font-bold mb-4" style="color: var(--royal-blue);">
                        Vielen Dank für Ihre Buchung!
                    </h1>

                    <!-- Subtitle -->
                    <p class="text-gray-600 text-lg mb-2">
                        Ihre Seminarbuchung wurde erfolgreich abgeschlossen.
                    </p>
                    <p class="text-gray-500 mb-8">
                        Buchungsnummer: <strong class="font-mono" id="bookingNumber"></strong>
                    </p>

                   
                </div>
            </div>

            <!-- Booking Details -->
            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <!-- Left Column - Seminar Details -->
                <div class="card bg-base-100 shadow-lg">
                    <div class="card-body">
                        <h2 class="text-xl font-bold mb-4 flex items-center gap-2" style="color: var(--royal-blue);">
                            <i data-lucide="book-open" style="width: 24px; height: 24px;"></i>
                            Seminardetails
                        </h2>
                        
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Seminar:</span>
                                <span class="font-semibold" id="detailSeminar"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Datum:</span>
                                <span class="font-semibold" id="detailDate"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Uhrzeit:</span>
                                <span class="font-semibold" id="detailTime"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Ort:</span>
                                <span class="font-semibold" id="detailLocation"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Trainer:</span>
                                <span class="font-semibold" id="detailTrainer"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Teilnehmer:</span>
                                <span class="font-semibold" id="detailParticipants"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Contact & Payment -->
                <div class="card bg-base-100 shadow-lg">
                    <div class="card-body">
                        <h2 class="text-xl font-bold mb-4 flex items-center gap-2" style="color: var(--royal-blue);">
                            <i data-lucide="user" style="width: 24px; height: 24px;"></i>
                            Kontakt & Zahlung
                        </h2>
                        
                        <div class="space-y-3">
                            <div>
                                <p class="text-sm text-gray-600">Firma</p>
                                <p class="font-semibold" id="detailCompany"></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Ansprechpartner</p>
                                <p class="font-semibold" id="detailContact"></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">E-Mail</p>
                                <p class="font-semibold" id="detailEmail"></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Telefon</p>
                                <p class="font-semibold" id="detailPhone"></p>
                            </div>
                            <div class="divider"></div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Zahlungsmethode:</span>
                                <span class="font-semibold" id="detailPayment"></span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold" style="color: var(--royal-blue);">Gesamtbetrag:</span>
                                <span class="text-2xl font-bold" style="color: var(--royal-blue);" id="detailTotal"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Next Steps -->
            <div class="card bg-base-100 shadow-lg mb-8">
                <div class="card-body">
                    <h2 class="text-xl font-bold mb-4 flex items-center gap-2" style="color: var(--royal-blue);">
                        <i data-lucide="clipboard-list" style="width: 24px; height: 24px;"></i>
                        Wie geht es weiter?
                    </h2>
                    
                    <div class="space-y-4">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0">
                                <div class="w-10 h-10 rounded-full flex items-center justify-center" 
                                     style="background-color: var(--royal-blue); color: white; font-weight: bold;">
                                    1
                                </div>
                            </div>
                            <div>
                                <h3 class="font-semibold mb-1">Bestätigungs-E-Mail</h3>
                                <p class="text-gray-600 text-sm">
                                    Sie erhalten in Kürze eine E-Mail mit allen Buchungsdetails und 
                                    Ihrer Rechnung (bei Überweisung) bzw. Zahlungsbestätigung.
                                </p>
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <div class="flex-shrink-0">
                                <div class="w-10 h-10 rounded-full flex items-center justify-center" 
                                     style="background-color: var(--royal-blue); color: white; font-weight: bold;">
                                    2
                                </div>
                            </div>
                            <div>
                                <h3 class="font-semibold mb-1">Seminarunterlagen</h3>
                                <p class="text-gray-600 text-sm">
                                    Ca. 14 Tage vor Seminarbeginn erhalten Sie die Seminarunterlagen 
                                    und weitere wichtige Informationen per E-Mail.
                                </p>
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <div class="flex-shrink-0">
                                <div class="w-10 h-10 rounded-full flex items-center justify-center" 
                                     style="background-color: var(--royal-blue); color: white; font-weight: bold;">
                                    3
                                </div>
                            </div>
                            <div>
                                <h3 class="font-semibold mb-1">Erinnerung</h3>
                                <p class="text-gray-600 text-sm">
                                    3 Tage vor dem Seminar erhalten Sie eine Erinnerungs-E-Mail mit 
                                    allen wichtigen Details und Anfahrtsinformationen.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Box -->
            <div class="alert mb-8" style="background-color: #f0f5ff; border-color: var(--royal-blue);">
                <i data-lucide="info" style="color: var(--royal-blue); width: 24px; height: 24px;"></i>
                <div>
                    <p class="text-sm" style="color: var(--royal-blue);">
                        <strong>Haben Sie Fragen?</strong> Unser Team steht Ihnen gerne zur Verfügung. 
                        Kontaktieren Sie uns unter <strong>info@vitalworks.de</strong> oder 
                        <strong>+49 123 456789</strong>
                    </p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="landingpage.html" class="btn btn-outline" style="border-color: var(--royal-blue); color: var(--royal-blue);">
                    <i data-lucide="home" style="width: 20px; height: 20px;"></i>
                    Zur Startseite
                </a>
                <button onclick="window.print()" class="btn" style="background-color: var(--royal-blue); color: white;">
                    <i data-lucide="printer" style="width: 20px; height: 20px;"></i>
                    Bestätigung drucken
                </button>
            </div>
        </div>
    </main>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Get booking data from sessionStorage
        const bookingData = JSON.parse(sessionStorage.getItem('bookingData') || '{}');
        
        if (!bookingData.selectedCourse || !bookingData.contactData) {
            window.location.href = 'booking-participants.html';
        }

        // Generate booking number
        const bookingNumber = 'VW-' + Date.now().toString().slice(-8);
        document.getElementById('bookingNumber').textContent = bookingNumber;

        // Seminar names mapping
        const seminarNames = {
            'arbeitsgestaltung': 'Arbeitsgestaltung',
            'mitarbeitermotivation': 'Mitarbeitermotivation',
            'mitarbeiterfuehrung': 'Mitarbeiterführung'
        };

        // Seminar duration in days
        const seminarDuration = {
            'arbeitsgestaltung': 1,
            'mitarbeitermotivation': 2,
            'mitarbeiterfuehrung': 3
        };

        // Payment method names
        const paymentMethodNames = {
            'credit-card': 'Kreditkarte',
            'bank-transfer': 'Überweisung',
            'paypal': 'PayPal',
            'sepa': 'SEPA-Lastschrift'
        };

        // Format date (single date)
        const formatDate = (dateStr) => {
            const date = new Date(dateStr);
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('de-DE', options);
        };

        // Format date range (for multi-day courses)
        const formatDateRange = (startDateStr, seminarType) => {
            const duration = seminarDuration[seminarType] || 1;
            const startDate = new Date(startDateStr);
            
            if (duration === 1) {
                return formatDate(startDateStr);
            }
            
            const endDate = new Date(startDate);
            endDate.setDate(startDate.getDate() + duration - 1);
            
            const startDay = String(startDate.getDate()).padStart(2, '0');
            const startMonth = String(startDate.getMonth() + 1).padStart(2, '0');
            const endDay = String(endDate.getDate()).padStart(2, '0');
            const endMonth = String(endDate.getMonth() + 1).padStart(2, '0');
            const endYear = endDate.getFullYear();
            
            return `${startDay}.${startMonth} - ${endDay}.${endMonth}.${endYear}`;
        };

        // Update details
        const course = bookingData.selectedCourse;
        const contact = bookingData.contactData;
        const participants = parseInt(bookingData.participants);

        document.getElementById('detailSeminar').textContent = seminarNames[bookingData.seminar];
        document.getElementById('detailDate').textContent = formatDateRange(course.date, bookingData.seminar);
        document.getElementById('detailTime').textContent = course.time;
        document.getElementById('detailLocation').textContent = course.location;
        document.getElementById('detailTrainer').textContent = course.trainer;
        document.getElementById('detailParticipants').textContent = `${participants} Person${participants > 1 ? 'en' : ''}`;

        document.getElementById('detailCompany').textContent = contact.company;
        document.getElementById('detailContact').textContent = 
            `${contact.salutation} ${contact.title ? contact.title + ' ' : ''}${contact.firstName} ${contact.lastName}`;
        document.getElementById('detailEmail').textContent = contact.email;
        document.getElementById('detailPhone').textContent = contact.phone;
        document.getElementById('detailPayment').textContent = paymentMethodNames[bookingData.paymentMethod] || 'N/A';
        document.getElementById('detailTotal').textContent = `€${bookingData.totalPrice.toLocaleString('de-DE')}`;

        // Clear booking data after showing confirmation
        // sessionStorage.removeItem('bookingData');
    </script>

</body>
</html>